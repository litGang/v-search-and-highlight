!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.VSearchAndHighlight=n()}(this,function(){"use strict";var e=function(e){return"function"==typeof e},n=function(e){return"string"==typeof e},t=function(e,n){return e.className&&e.className.split(" ").includes(n)};function r(r,i){var o=i.value,c=o.keyword,a=o.filter,l="sah";[].forEach.call(r.querySelectorAll("mark."+l),function(e){e.parentNode.replaceChild(e.firstChild,e)}),function r(i){if(i&&(i.hasChildNodes()&&[].forEach.call(i.childNodes,function(i){e(a)&&!a(i)||n(a)&&t(i,a)||r(i)}),3===i.nodeType)){var o=i.textContent||"";if(!o.trim())return;var d=function(e,n,t){var r=n.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),i=new RegExp(r,"gi");return e.replace(i,'<mark class="'+t+'">'+n+"</mark>")}(o,c,l),f=document.createElement("div");f.innerHTML=d;for(var u=i.parentNode,s=f.childNodes;s.length;)u.insertBefore(s[0],i);u.removeChild(i),f=null}}(r)}var i={inserted:r,componentUpdated:r};return{install:function(e){e.directive("search-and-highlight",i)}}});
