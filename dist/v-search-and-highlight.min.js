!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.VSearchAndHighlight=n()}(this,function(){"use strict";function e(e,n){var t=n.value,r=t.keyword,i=t.filter,o="sah";[].forEach.call(e.querySelectorAll("mark."+o),function(e){e.parentNode.replaceChild(e.firstChild,e)}),function e(n,t){if(t){if(t.hasChildNodes())for(var r=t.childNodes.length-1;r>-1;r--){var d=t.childNodes[r];"function"==typeof i?i(d)&&e(n,d):e(n,d)}if(3===t.nodeType){var a=t.textContent||"";if(!a.trim())return;var l=function(e,n,t){var r=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),i=new RegExp(r,"gi");return e.replace(i,'<mark class="'+t+'">'+n+"</mark>")}(a,n,o),c=document.createElement("div");c.innerHTML=l;for(var f=t.parentNode,h=c.childNodes;h.length;)f.insertBefore(h[0],t);f.removeChild(t),c=null}}}(r,e)}var n={inserted:e,componentUpdated:e};return{install:function(e,t){e.directive("search-and-highlight",n)}}});
